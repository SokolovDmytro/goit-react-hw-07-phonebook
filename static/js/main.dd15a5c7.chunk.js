(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={title:"App_title__2qvhn",appear:"App_appear__2YtxL",appearActive:"App_appearActive__1hJDS"}},22:function(t,e,n){t.exports={alert:"Alert_alert__3p5sD",enter:"Alert_enter__1-m-A",enterActive:"Alert_enterActive__2xZzt",exit:"Alert_exit__1NGAu",exitActive:"Alert_exitActive__2pvVK"}},35:function(t,e,n){t.exports={enter:"slide_enter__3iebK",enterActive:"slide_enterActive__U746_",exit:"slide_exit__3Ef7f",exitActive:"slide_exitActive__mT_Cz"}},40:function(t,e,n){t.exports=n(67)},67:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),u=n(4),i=n(11),s=n.n(i),l=n(12),m=n(13),p=n(17),f=n(16),d=n(18),h=n.n(d),v=n(14),C="contacts/filter",b="contacts/duplicate",E="contacts/addContactRequest",_="contacts/addContactSuccess",g="contacts/addContactError",y="contact/removeContactRequest",A="contact/removeContactSuccess",O="contact/removeContactError",j="contacts/fetchContactsRequest",w="contacts/fetchContactsSuccess",x="contacts/fetchContactsError",R={filter:function(t){return{type:C,payload:{filter:t}}},duplicate:function(){return{type:b}},addContactRequest:function(){return{type:E}},addContactSuccess:function(t){return{type:_,payload:Object(v.a)({},t)}},addContactError:function(t){return{type:g,payload:{error:t}}},fetchContactRequest:function(){return{type:j}},fetchContactSuccess:function(t){return{type:w,payload:t}},fetchContactError:function(t){return{type:x,payload:{error:t}}},removeContactError:function(t){return{type:O,payload:{error:t}}},removeContactSuccess:function(t){return{type:A,payload:t}},removeContactRequest:function(){return{type:y}}},S="http://localhost:4242/",F={onAddContact:function(t){return function(e){e(R.addContactRequest()),h.a.post("".concat(S,"contacts"),t).then((function(t){e(R.addContactSuccess(t.data))})).catch((function(t){return e(R.addContactError(t))}))}},fetchContacts:function(){return function(t){t(R.fetchContactRequest()),h.a.get("".concat(S,"contacts")).then((function(e){var n=e.data;t(R.fetchContactSuccess(n))})).catch((function(e){t(R.fetchContactError(e))}))}},onRemoveContacts:function(t){return function(e){e(R.removeContactRequest()),h.a.delete("".concat(S,"contacts/").concat(t)).then((function(){e(R.removeContactSuccess(t))})).catch((function(t){e(R.removeContactError(t))}))}}},N=n(15),k=n(34),L=function(t){return t.contacts.filter},q=function(t){return t.contacts.items},T={getLoading:function(t){return t.contacts.loading},getFilter:L,getAlert:function(t){return t.contacts.alertSwitch},getFilteredContacts:Object(k.a)([q,L],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),getContacts:q},V=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.changeAlertFn=function(){t.props.switchAlert(),setTimeout((function(){t.props.switchAlert()}),2500)},t.handleSubmit=function(e){e.preventDefault(),t.duplicateFn()?(t.props.onAlert(),setTimeout((function(){t.props.onAlert()}),1500)):(t.props.onAddContact(Object(v.a)({},t.state)),t.setState({name:"",number:""}))},t.duplicateFn=function(){return t.props.contacts.some((function(e){return e.name.toLowerCase()===t.state.name.toLowerCase()}))},t.handleChange=function(e){t.setState(Object(N.a)({},e.target.name,e.target.value))},t}return Object(m.a)(n,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("h2",null,"NAME"),c.a.createElement("input",{type:"text",name:"name",placeholder:"Enter name",onChange:this.handleChange,value:this.state.name}),c.a.createElement("h2",null,"NUMBER"),c.a.createElement("input",{type:"tel",name:"number",onChange:this.handleChange,value:this.state.number}),c.a.createElement("button",{type:"submit"},"Add contact")))}}]),n}(a.Component),D={onAddContact:F.onAddContact,onAlert:R.duplicate},J=Object(u.b)((function(t){return{contacts:T.getContacts(t)}}),D)(V),M=n(9),z=n.n(M),B=function(t){var e=t.id,n=t.name,a=t.number,r=t.onRemove;return c.a.createElement("li",{className:z.a.item},c.a.createElement("span",{className:z.a.span},n," "),c.a.createElement("span",{className:z.a.span},a," "),c.a.createElement("button",{className:z.a.button,type:"button",id:e,onClick:r},"X"))},G=n(69),K=n(68),P=n(35),U=n.n(P),Z={onRemoveContacts:F.onRemoveContacts},I=Object(u.b)((function(t){return{items:T.getContacts(t),contacts:T.getFilteredContacts(t)}}),Z)((function(t){var e=t.contacts,n=t.onRemoveContacts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(G.a,{component:"ul"},e.map((function(t){var e=t.id,a=t.name,r=t.number;return c.a.createElement(K.a,{key:e,timeout:250,classNames:U.a,unmountOnExit:!0},c.a.createElement(B,{key:e,name:a,number:r,onRemove:function(){return n(e)}}))}))))})),W={getFilterValue:R.filter},X=Object(u.b)((function(t){return{filterValue:T.getFilter(t)}}),W)((function(t){var e=t.getFilterValue,n=t.filterValue;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Find contact by name"),c.a.createElement("input",{type:"text",onChange:function(t){return e(t.target.value)},value:n}))})),Y=n(22),H=n.n(Y),Q=Object(u.b)((function(t){return{alert:t.alert}}))((function(t){var e=t.alert;return c.a.createElement(K.a,{in:e,classNames:H.a,timeout:250,unmountOnExit:!0},c.a.createElement("p",{className:H.a.alert},"The name is alredy exsist"))})),$=function(t){Object(p.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).filterContacts=function(){return t.props.items.filter((function(e){return e.name.toLowerCase().includes(t.props.filter.toLowerCase())}))},t}return Object(m.a)(n,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Q,null),c.a.createElement(K.a,{in:!0,timeout:500,classNames:s.a,appear:!0,unmountOnExit:!0},c.a.createElement("p",{className:s.a.title},"Phonebook")),c.a.createElement(J,null),c.a.createElement("h2",null,"Contacts"),this.props.items.length>1&&c.a.createElement(X,null),c.a.createElement(I,{contacts:this.filterContacts()}))}}]),n}(a.Component),tt={onFetchContacts:F.fetchContacts},et=Object(u.b)((function(t){return{items:t.contacts.items,alert:t.contacts.alert,filter:t.contacts.filter}}),tt)($),nt=n(5),at=n(38),ct=Object(nt.combineReducers)({items:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case _:return[].concat(Object(at.a)(t),[a]);case w:return a;case A:return t.filter((function(t){return t.id!==a}));default:return t}},filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case C:return a.filter;default:return t}},alertSwitch:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=e.type;switch(n){case b:return!t;default:return t}},loading:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=e.type;e.payload;switch(n){case E:case j:case y:return!0;case _:case g:case w:case x:case A:case O:return!1;default:return t}},error:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.payload;switch(n){case g:case x:case O:return a;case E:case j:case y:return null;default:return t}}}),rt=n(36),ot=n(37),ut=Object(nt.combineReducers)({contacts:ct}),it=[ot.a],st=Object(nt.createStore)(ut,Object(rt.composeWithDevTools)(nt.applyMiddleware.apply(void 0,it)));o.a.render(c.a.createElement(u.a,{store:st},c.a.createElement(et,null)),document.getElementById("root"))},9:function(t,e,n){t.exports={button:"ContactsList_button__2OmPZ",item:"ContactsList_item__3ksNs",span:"ContactsList_span__3FG9m"}}},[[40,1,2]]]);
//# sourceMappingURL=main.dd15a5c7.chunk.js.map